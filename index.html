<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0">
  <title>Chris Gaeta</title>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,400,300|Oswald:400,400|Nobile:300" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="css/standardize.css">
  <link rel="stylesheet" href="css/index-grid.css">
  <link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" href="css/index.css">
</head>
<body>
  <div id="wrapper">
    <div id="content">
      <div class="body">
        <nav id="navigation">
					<a href="#"><h1 class="name current">Chris Gaeta</h1></a>
          <a href="work.html" class="navlink">Work</a>
          <a href="resume.html" class="navlink">Resume</a>
        </nav>
        <div id="intro" class="section">
		<div class="gradient">
			<p class="introtext"><span>Hey</span>I'm a user researcher, a developer, and - on some days - a designer.</p>
			<a id="worklink" href="work.html">My Work</a>
		</div>
        </div>
        <div id="skills" class="section">
          <div class="skill skill-1">
            <img src="img/index_developer.png" class="skillicon" />
            <div class="skilltext">
              <h3>Development</h3>
              <p class="skilldesc">Using HTML, CSS, and Javascript, I can create interactive prototypes which can be quickly be incorporated into the final product.</p>
            </div>
          </div><!--
          --><div class="skill skill-2">
            <img src="img/meeting_photo.jpg" class="skillicon" />
            <div class="skilltext">
              <h3>User research</h3>
              <p class="skilldesc">Successful products solve a problem for their users. The trick is knowing your users well enough to know their problems.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
        <form id="contact" method="post" action="email.php" onsubmit="AJAXReq(this); return false;">
          <input id="guestname" name="guestname" placeholder="What's your name?" required="required" type="text">
					<label class="namelabel" for="guestname">Name</label>
          <input id="guestemail" name="guestemail" placeholder="And your email?" required="required" type="email">
					<label class="emaillabel" for="guestemail">Email</label>
          <textarea id="guestmessage" name="guestmessage" required="required" placeholder="What can I help you with?"></textarea>
					<label class="messagelabel" for="guestmessage">Message</label>
          <label class="feedback"></label>
					<input type="submit" class="submit" value="Send" />
        </form>
        <p id="copyright">&copy; 2016 by Chris Gaeta</p>
      </div>
    </div>
  </div>
	<script>
		// this is a change for git
		// select inputs and textarea and add
			// eventlisteners to them for onchange
		var inputs = document.querySelectorAll("input, textarea");
		for(var i = 0; i < inputs.length; i++){
			if(inputs[i].className !== "submit")
				inputs[i].addEventListener("input", function(){
					if(this.value === "")
						this.classList.remove("filled");
					else
						this.classList.add("filled");
				});
		}
		
		// setup eventlisteners for AJAX request and send email
		function AJAXReq(form){
			if(!form) return;

			// not supporting old IE versions
			var req = new XMLHttpRequest();

			var fb = document.querySelector(".feedback");
			req.addEventListener("progress", function(){
				fb.innerHTML= "Wait for it...";
			fb.classList.add("show");
			});

			req.addEventListener("load", function(d){
				fb.innerHTML = this.responseText;

				window.setTimeout(function(){
					fb.classList.remove("show");
				}, 2000);

			});

			req.addEventListener("error", function(){
				fb.innerHTML = "Sorry, I couldn't send your email to Chris... Try again later?";
			});
			
			req.open("post", form.action);
			req.send(new FormData(form));
		}
	</script>
</body>
</html>
